---
# Warp Terminal Workflows Configuration
version: "1.0"

workflows:
  # Git Synchronization Workflow
  sync:
    name: "Git Sync"
    description: "Synchronize local repository with GitHub"
    steps:
      - name: "Check Status"
        command: "git status"
        continue_on_error: true
      
      - name: "Sync Repository"
        command: "/home/clara-sorrenti/sync-github.sh"
        timeout: "5m"
        
      - name: "Verify Sync"
        command: "git status"
        continue_on_error: true

  # Development Workflow
  dev:
    name: "Development Environment"
    description: "Set up development environment"
    steps:
      - name: "Update Dependencies"
        command: "pip install -r requirements.txt"
        
      - name: "Start Development Server"
        command: "python -m mcp.server"
        background: true
        
      - name: "Watch for Changes"
        command: "find . -name '*.py' | entr -r python -m mcp.server"
        
  # Deployment Workflow
  deploy:
    name: "Deploy"
    description: "Deploy MCP server"
    steps:
      - name: "Run Tests"
        command: "pytest tests/"
        
      - name: "Build Package"
        command: "python setup.py sdist bdist_wheel"
        
      - name: "Deploy"
        command: "python -m mcp.deploy"
        
  # Backup Workflow
  backup:
    name: "Backup"
    description: "Create backup of MCP environment"
    steps:
      - name: "Create Backup Directory"
        command: "mkdir -p backups"
        
      - name: "Backup Files"
        command: "tar -czf backups/mcp-$(date +%Y%m%d-%H%M%S).tar.gz ."
        
      - name: "Cleanup Old Backups"
        command: "find backups/ -name '*.tar.gz' -mtime +7 -delete"
        
  # Monitoring Workflow
  monitor:
    name: "Monitor"
    description: "Monitor MCP server status"
    steps:
      - name: "Check Server Status"
        command: "curl -s http://localhost:2025/health"
        interval: "1m"
        
      - name: "Check Disk Space"
        command: "df -h /home/clara-sorrenti/Documents/MF_MCP"
        interval: "1h"
        
      - name: "Check Log Size"
        command: "du -sh logs/"
        interval: "1h"
